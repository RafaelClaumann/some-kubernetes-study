apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: validating-webhook
  namespace: validation
webhooks:
  - name: warden.validation.svc
    failurePolicy: Fail
    sideEffects: None
    admissionReviewVersions: ["v1","v1beta1"]
    rules:
      - apiGroups: ["apps", ""]
        resources:
          - "deployments"
          - "pods"
        apiVersions:
          - "*"
        operations:
          - CREATE
    clientConfig:
      service:
        name: warden
        namespace: validation
        path: /validate/
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUR1ekNDQXFPZ0F3SUJBZ0lVVlM4TEc1RFo4YVN1eGdWLzhLNnNLbkM0TytNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2JURUxNQWtHQTFVRUJoTUNRbEl4RnpBVkJnTlZCQWdNRGxOaGJuUmhJRU5oZEdGeWFXNWhNUll3RkFZRApWUVFIREExR2JHOXlhV0Z1YjNCdmJHbHpNUjR3SEFZRFZRUUtEQlZEWlhKMGFXWnBZMkYwWlNCQmRYUm9iM0pwCmRIa3hEVEFMQmdOVkJBc01CRk5sYkdZd0hoY05Nak13T0RBMU1UUXlNVEEzV2hjTk1qUXdOekkyTVRReU1UQTMKV2pCdE1Rc3dDUVlEVlFRR0V3SkNVakVYTUJVR0ExVUVDQXdPVTJGdWRHRWdRMkYwWVhKcGJtRXhGakFVQmdOVgpCQWNNRFVac2IzSnBZVzV2Y0c5c2FYTXhIakFjQmdOVkJBb01GVU5sY25ScFptbGpZWFJsSUVGMWRHaHZjbWwwCmVURU5NQXNHQTFVRUN3d0VVMlZzWmpDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUIKQVBPUnVmcDY4aGxOcTRacVRiUXEvOENTZElPdjdoMGFnTTRUMitLMW5FWDQ5K0xCbTAzck1wR0NvZUVOZXNINwpObVVtelp5QWlBc1kxZjMyU0hkaXYvcUF4MUxFWExoeXYxeFlmWjFKZ1pBaDlrSmhQSlNGbk1EMVdxTGRhUHJCCmhQRXYweDdobTZVZDFCUEVVdjliWHVldjlRSkpLSUtaZ2krRlllU3huUXI3L05Sd3o3RmhwNGtkTWdBRytCN3YKeWU0S0MyNEcyRlFlcWNKOEpSRHNrRFNIekRqMVV4TUhLYUorOEFPemd4TjY1MS9IdTYxdURtbHJVN04zbUZsOApKa0toakJIZTl3amgxY0pzWFJ5T1NSN3lqK1NhU0d4UnN1Y1U0b2NhSlBucWNqMXY4WTFXZWdGamZIbFBSL0hoCjB3SlRpZFlyVjg5RW9NQVFST0g5MkwwQ0F3RUFBYU5UTUZFd0hRWURWUjBPQkJZRUZLVElDOFR6aHBrNEFtRE0KQ0xwQTVuTkIwYnpITUI4R0ExVWRJd1FZTUJhQUZLVElDOFR6aHBrNEFtRE1DTHBBNW5OQjBiekhNQThHQTFVZApFd0VCL3dRRk1BTUJBZjh3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQU1SRmJ1UDFwNmtPZkp3ajZEb0FoandpCktueCs1bDFvcUc1R3hXcnp4aGh5WS83Rk1Lc3AzdGI3eFZ6eXBLVTNKQkh3M2Z3MlNaSzdIZzZkK0QxcDdOOVkKY0RCT09kRUt3VVNuMFFlVm10N2EyNE10bmhOVG45cG0wNjN0UjAwL1M2WnJ5NXVMTHFhNzd0bUl6VjI5NGZoOQphdlZpZWwyc2hmM3hxK1ROSTN1RUNicTJMcDg2bG8ySHplQmZ3RzgrY2RUMm1qeW9INi80Y3dEY2Y3dUlXMlMvCjhUMVorMnUzSm1OeGR6cUNZMHZibmJFeXZVMlZGOW9lU3poUThBTzhsSmRaT3VrdG1LMFFmbVFGMkpiS2FEYXYKMU9tWSt0SW1BQ3BnUTBDdU5uSHpFR2RpMk9Pb3JaMWhyaDY2K3pXZ0E1eTM5amxsMW4zeXNOUmI0czFXQy80PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
